{% extends 'base.html' %}

{% block body %}

<!-- Contenido Principal -->
<div id="page-wrapper" style="min-height: 864px;">
	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-12">
			<h2 class="hstyle">Productos</h2>

			<a href="#" id="btnNuevoProd" class="btn btn-celeste btn-rounded" data-toggle="modal" data-target="#myModal"><i class="fa fa-plus"></i> Nuevo</a>
			<hr>
			</div>
			 <br>
		</div>
		<div class="row">
			<div class="col-lg-12">
				<div class="table-responsive">
				<div id="tablaProductos_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"></div><div id="tablaProductos_processing" class="dataTables_processing panel panel-default" style="display: none;">Procesando...</div>
					<table class="table table-striped table-hover table-condensed tabla dataTable no-footer" id="tablaProductos" role="grid" aria-describedby="tablaProductos_info" style="width: 100%;" cellspacing="0" width="100%">
							<thead>
								<tr role="row">
									<th style="width: 0px;" class="sorting_asc" tabindex="0" aria-controls="tablaProductos" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Id: Activar para ordenar la columna de manera descendente">Producto</th>
									<th class="sorting" tabindex="0" aria-controls="tablaProductos" rowspan="1" colspan="1" style="width: 466px;" aria-label="Nombre: Activar para ordenar la columna de manera ascendente">Nombre</th>
									<th class="sorting" tabindex="0" aria-controls="tablaProductos" rowspan="1" colspan="1" style="width: 466px;" aria-label="Cantidad: Activar para ordenar la columna de manera ascendente">Cantidad</th>
									<th class="sorting" tabindex="0" aria-controls="tablaProductos" rowspan="1" colspan="1" style="width: 466px;" aria-label="Unidad: Activar para ordenar la columna de manera ascendente">Unidad</th>
                                    <th class="sorting" tabindex="0" aria-controls="tablaProductos" rowspan="1" colspan="1" style="width: 466px;" aria-label="Marca: Activar para ordenar la columna de manera ascendente">Marca</th>
                                    <th class="sorting" tabindex="0" aria-controls="tablaProductos" rowspan="1" colspan="1" style="width: 466px;" aria-label="Categoria: Activar para ordenar la columna de manera ascendente">Categoria</th>
                                    <th class="sorting" tabindex="0" aria-controls="tablaProductos" rowspan="1" colspan="1" style="width: 466px;" aria-label="Precio Venta: Activar para ordenar la columna de manera ascendente">Precio Venta</th>
                                    <th class="sorting" tabindex="0" aria-controls="tablaProductos" rowspan="1" colspan="1" style="width: 466px;" aria-label="Precio Compra: Activar para ordenar la columna de manera ascendente">Precio Compra</th>
									<th tabindex="0" aria-controls="tablaProductos" rowspan="1" colspan="1" style="width: 424px;" >Acci&oacute;n</th>
								</tr>
							</thead>

							<tbody>

									{% for producto in productos %}
                                            <tr role="row" class="odd">
                                                <td>{{ producto.0 }}</td>
                                                <td>{{ producto.1 }}</td>
                                                <td>{{ producto.2 }}</td>
                                                <td>{{ producto.3 }}</td>
                                                <td>{{ producto.4 }}</td>
                                                <td>{{ producto.5 }}</td>
                                                <td>{{ producto.6 }}</td>
                                                <td>{{ producto.7 }}</td>

                                                <td style="text-align: center;">

                                                    <button title="Editar"  class="btn btn-success btn-circle" id="btn-edit" onclick="editarProducto(`{{ producto.0 }}`)"><i class="fa fa-pencil"></i></button>
                                                    <button title="Eliminar" class="btn btn-danger btn-circle" id="btn-delete" onclick="ConfirmDeleteProducto(`{{ producto.0 }}`)"><i class="fa fa-trash-o"></i></button>

                                                </td>
                                            </tr>
									{%  endfor %}

							</tbody>
						</table>
					</div>
				</div>
			</div>
	</div>
</div>
<!-- Contenido Principal -->

<!-- Modal Agregar-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document" style="width: 69%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h2 class="modal-title" id="myModalLabel">Nuevo Producto</h2>
            </div>
            <div class="modal-body">
                <div class="m-b-20">

                    <div class="row">
                        <form action="/productos/nuevo" method="POST" id="productoForm">

                            <div class="row" style="padding-left: 15px;padding-right: 15px;">

                                <div class="col-md-4">
									<div class="form-group">
										<label>Nombre <span class="text-danger">*</span></label>
										<input class="form-control required" style="text-transform: uppercase;" type="text" name="txtNombre" id="txtNombre" maxlength="200" required>
									</div>
								</div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Precio <span class="text-danger">*</span></label>
                                        <input class="form-control required" type="text" name="txtPrecio" id="txtPrecio" maxlength="20" onkeypress="return valideKey(event);" required>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Stock <span class="text-danger">*</span></label>
                                        <input class="form-control" type="text" name="txtStock" id="txtStock" onkeypress="return valideKey(event);" maxlength="16" required>

                                    </div>
                                </div>

                            </div>

                            <div class="row" style="padding-left: 15px;padding-right: 15px;">

                                <div class="col-md-6">
									<div class="form-group">
										<label>Categor√≠as <span class="text-danger">*</span></label>
										<input class="form-control required" type="text" list="listcategoria" id="categoria" name="categoria"/>
										<datalist id="listcategoria">
											{% for categoria in categorias %}
												<option data-value= "{{categoria.0}}" value= "{{categoria.1}}" >
											{% endfor %}
										</datalist>
										<input type="hidden" id="categoria1" name="categoria1">
									</div>
								</div>

                            </div>

                            <div class="row" style="padding-left: 15px;padding-right: 15px;">
                                <div class="col-md-12" style="margin-right: 3%;">
                                    <button class="btn btn-default" data-dismiss="modal">Cerrar</button>
                                    <button class="btn btn-primary">Guardar</button>

                                </div>
                            </div>

                        </form>

                    </div>

                </div>
            </div>

        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- Fin Modal Agregar-->

{% endblock %}